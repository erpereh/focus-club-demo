(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))o(n);new MutationObserver(n=>{for(const s of n)if(s.type==="childList")for(const i of s.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&o(i)}).observe(document,{childList:!0,subtree:!0});function r(n){const s={};return n.integrity&&(s.integrity=n.integrity),n.referrerPolicy&&(s.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?s.credentials="include":n.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function o(n){if(n.ep)return;n.ep=!0;const s=r(n);fetch(n.href,s)}})();document.addEventListener("DOMContentLoaded",()=>{m(),g(),v(),p(),h(),L(),y()});function m(){const e=document.getElementById("navbar"),t=document.querySelector(".nav-cta");function r(){window.scrollY>80?(e.classList.add("scrolled"),t&&window.innerWidth>1024&&(t.style.display="inline-flex")):(e.classList.remove("scrolled"),t&&(t.style.display="none"))}window.addEventListener("scroll",r,{passive:!0}),r()}function g(){const e=document.getElementById("navToggle"),t=document.getElementById("navLinks");!e||!t||(e.addEventListener("click",()=>{e.classList.toggle("active"),t.classList.toggle("open"),document.body.style.overflow=t.classList.contains("open")?"hidden":""}),t.querySelectorAll("a").forEach(r=>{r.addEventListener("click",()=>{e.classList.remove("active"),t.classList.remove("open"),document.body.style.overflow=""})}),document.addEventListener("keydown",r=>{r.key==="Escape"&&t.classList.contains("open")&&(e.classList.remove("active"),t.classList.remove("open"),document.body.style.overflow="")}))}function v(){const e=document.querySelectorAll(".reveal, .reveal-left, .reveal-right");if(!e.length)return;const t=new IntersectionObserver(r=>{r.forEach((o,n)=>{if(o.isIntersecting){const s=o.target.dataset.delay||0;setTimeout(()=>{o.target.classList.add("visible")},s),t.unobserve(o.target)}})},{threshold:.1,rootMargin:"0px 0px -60px 0px"});document.querySelectorAll(".servicios-grid .servicio-card, .testimonios-grid .testimonio-card, .comunidad-values .value-card").forEach((r,o)=>{r.dataset.delay=o*100}),e.forEach(r=>t.observe(r))}function p(){const e=document.querySelectorAll("[data-target]");if(!e.length)return;const t=new IntersectionObserver(r=>{r.forEach(o=>{o.isIntersecting&&(b(o.target),t.unobserve(o.target))})},{threshold:.5});e.forEach(r=>t.observe(r))}function b(e){var i;const t=parseInt(e.dataset.target),r=2e3,o=performance.now();e.innerHTML.replace(/\d+/,"").replace(/<[^>]*>/g,"").trim();const n=((i=e.querySelector("span"))==null?void 0:i.outerHTML)||"";function s(l){const d=l-o,a=Math.min(d/r,1),u=1-Math.pow(1-a,3),f=Math.round(u*t);e.innerHTML=f+n,a<1&&requestAnimationFrame(s)}requestAnimationFrame(s)}function h(){document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",t=>{var i;const r=e.getAttribute("href");if(r==="#")return;const o=document.querySelector(r);if(!o)return;t.preventDefault();const n=((i=document.getElementById("navbar"))==null?void 0:i.offsetHeight)||80,s=o.getBoundingClientRect().top+window.scrollY-n;window.scrollTo({top:s,behavior:"smooth"})})})}function y(){const e=document.querySelectorAll("section[id]"),t=document.querySelectorAll(".nav-links a");if(!e.length||!t.length)return;const r=new IntersectionObserver(o=>{o.forEach(n=>{if(n.isIntersecting){const s=n.target.getAttribute("id");t.forEach(i=>{i.classList.toggle("active",i.getAttribute("href")===`#${s}`)})}})},{threshold:.3,rootMargin:"-80px 0px -50% 0px"});e.forEach(o=>r.observe(o))}function L(){const e=document.getElementById("contactForm");e&&e.addEventListener("submit",t=>{t.preventDefault();const r=e.querySelector("#nombre").value.trim(),o=e.querySelector("#telefono").value.trim(),n=e.querySelector("#objetivo").value;if(!r||!o||!n){c("Por favor, rellena todos los campos obligatorios.","error");return}if(!/^[\+]?[0-9\s\-]{9,15}$/.test(o)){c("Por favor, introduce un número de teléfono válido.","error");return}const i=e.querySelector(".form-submit");i.innerHTML="✓ ¡Solicitud enviada!",i.style.background="linear-gradient(135deg, #2E7D32, #4CAF50)",i.disabled=!0,c("¡Gracias! Te contactaremos en menos de 24h para confirmar tu sesión gratuita.","success"),setTimeout(()=>{e.reset(),i.innerHTML='Reservar mi sesión gratis <svg class="btn-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M5 12h14M12 5l7 7-7 7"/></svg>',i.style.background="",i.disabled=!1},5e3)})}function c(e,t){const r=document.querySelector(".form-feedback");r&&r.remove();const o=document.createElement("div");o.className="form-feedback",o.style.cssText=`
    margin-top: 12px;
    padding: 12px 16px;
    border-radius: 8px;
    font-size: 0.9rem;
    text-align: center;
    animation: fadeIn 0.3s ease;
    ${t==="success"?"background: rgba(46, 125, 50, 0.15); border: 1px solid rgba(46, 125, 50, 0.3); color: #4CAF50;":"background: rgba(239, 83, 80, 0.15); border: 1px solid rgba(239, 83, 80, 0.3); color: #ef5350;"}
  `,o.textContent=e,document.getElementById("contactForm").appendChild(o),setTimeout(()=>{o.style.opacity="0",o.style.transition="opacity 0.3s ease",setTimeout(()=>o.remove(),300)},5e3)}window.addEventListener("scroll",()=>{const e=document.querySelector(".hero-bg img");e&&window.scrollY<window.innerHeight&&(e.style.transform=`scale(1.05) translateY(${window.scrollY*.15}px)`)},{passive:!0});
