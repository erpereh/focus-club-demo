(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))r(n);new MutationObserver(n=>{for(const s of n)if(s.type==="childList")for(const i of s.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&r(i)}).observe(document,{childList:!0,subtree:!0});function o(n){const s={};return n.integrity&&(s.integrity=n.integrity),n.referrerPolicy&&(s.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?s.credentials="include":n.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(n){if(n.ep)return;n.ep=!0;const s=o(n);fetch(n.href,s)}})();document.addEventListener("DOMContentLoaded",()=>{m(),v(),g(),p(),b(),L(),y()});function m(){const e=document.getElementById("navbar"),t=document.querySelector(".nav-cta");function o(){window.scrollY>80?(e.classList.add("scrolled"),t&&window.innerWidth>1024&&(t.style.display="inline-flex")):(e.classList.remove("scrolled"),t&&(t.style.display="none"))}window.addEventListener("scroll",o,{passive:!0}),o()}function v(){const e=document.getElementById("navToggle"),t=document.getElementById("navLinks");!e||!t||(e.addEventListener("click",()=>{e.classList.toggle("active"),t.classList.toggle("open"),document.body.style.overflow=t.classList.contains("open")?"hidden":""}),t.querySelectorAll("a").forEach(o=>{o.addEventListener("click",()=>{e.classList.remove("active"),t.classList.remove("open"),document.body.style.overflow=""})}),document.addEventListener("keydown",o=>{o.key==="Escape"&&t.classList.contains("open")&&(e.classList.remove("active"),t.classList.remove("open"),document.body.style.overflow="")}))}function g(){const e=document.querySelectorAll(".reveal, .reveal-left, .reveal-right");if(!e.length)return;const t=new IntersectionObserver(o=>{o.forEach((r,n)=>{if(r.isIntersecting){const s=r.target.dataset.delay||0;setTimeout(()=>{r.target.classList.add("visible")},s),t.unobserve(r.target)}})},{threshold:.1,rootMargin:"0px 0px -60px 0px"});document.querySelectorAll(".servicios-grid .servicio-card, .testimonios-grid .testimonio-card, .comunidad-values .value-card").forEach((o,r)=>{o.dataset.delay=r*100}),e.forEach(o=>t.observe(o))}function p(){const e=document.querySelectorAll("[data-target]");if(!e.length)return;const t=new IntersectionObserver(o=>{o.forEach(r=>{r.isIntersecting&&(h(r.target),t.unobserve(r.target))})},{threshold:.5});e.forEach(o=>t.observe(o))}function h(e){var i;const t=parseInt(e.dataset.target),o=2e3,r=performance.now();e.innerHTML.replace(/\d+/,"").replace(/<[^>]*>/g,"").trim();const n=((i=e.querySelector("span"))==null?void 0:i.outerHTML)||"";function s(l){const c=l-r,a=Math.min(c/o,1),u=1-Math.pow(1-a,3),f=Math.round(u*t);e.innerHTML=f+n,a<1&&requestAnimationFrame(s)}requestAnimationFrame(s)}function b(){document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",t=>{var i;const o=e.getAttribute("href");if(o==="#")return;const r=document.querySelector(o);if(!r)return;t.preventDefault();const n=((i=document.getElementById("navbar"))==null?void 0:i.offsetHeight)||80,s=r.getBoundingClientRect().top+window.scrollY-n;window.scrollTo({top:s,behavior:"smooth"})})})}function y(){const e=document.querySelectorAll(".nav-links a");if(!e.length)return;const t=[];e.forEach(n=>{const s=n.getAttribute("href");s&&s.startsWith("#")&&t.push(s.substring(1))});let o=!1;function r(){var l;const n=window.scrollY,s=((l=document.getElementById("navbar"))==null?void 0:l.offsetHeight)||80;let i="";for(const c of t){const a=document.getElementById(c);a&&a.offsetTop-s-40<=n&&(i=c)}e.forEach(c=>{c.getAttribute("href")===`#${i}`?c.classList.add("active"):c.classList.remove("active")}),o=!1}window.addEventListener("scroll",()=>{o||(requestAnimationFrame(r),o=!0)},{passive:!0}),r(),e.forEach(n=>{n.addEventListener("click",()=>{e.forEach(s=>s.classList.remove("active")),n.classList.add("active")})})}function L(){const e=document.getElementById("contactForm");e&&e.addEventListener("submit",t=>{t.preventDefault();const o=e.querySelector("#nombre").value.trim(),r=e.querySelector("#telefono").value.trim(),n=e.querySelector("#objetivo").value;if(!o||!r||!n){d("Por favor, rellena todos los campos obligatorios.","error");return}if(!/^[\+]?[0-9\s\-]{9,15}$/.test(r)){d("Por favor, introduce un número de teléfono válido.","error");return}const i=e.querySelector(".form-submit");i.innerHTML="✓ ¡Solicitud enviada!",i.style.background="linear-gradient(135deg, #2E7D32, #4CAF50)",i.disabled=!0,d("¡Gracias! Te contactaremos en menos de 24h para confirmar tu sesión gratuita.","success"),setTimeout(()=>{e.reset(),i.innerHTML='Reservar mi sesión gratis <svg class="btn-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M5 12h14M12 5l7 7-7 7"/></svg>',i.style.background="",i.disabled=!1},5e3)})}function d(e,t){const o=document.querySelector(".form-feedback");o&&o.remove();const r=document.createElement("div");r.className="form-feedback",r.style.cssText=`
    margin-top: 12px;
    padding: 12px 16px;
    border-radius: 8px;
    font-size: 0.9rem;
    text-align: center;
    animation: fadeIn 0.3s ease;
    ${t==="success"?"background: rgba(46, 125, 50, 0.15); border: 1px solid rgba(46, 125, 50, 0.3); color: #4CAF50;":"background: rgba(239, 83, 80, 0.15); border: 1px solid rgba(239, 83, 80, 0.3); color: #ef5350;"}
  `,r.textContent=e,document.getElementById("contactForm").appendChild(r),setTimeout(()=>{r.style.opacity="0",r.style.transition="opacity 0.3s ease",setTimeout(()=>r.remove(),300)},5e3)}window.addEventListener("scroll",()=>{const e=document.querySelector(".hero-bg img");e&&window.scrollY<window.innerHeight&&(e.style.transform=`scale(1.05) translateY(${window.scrollY*.15}px)`)},{passive:!0});
